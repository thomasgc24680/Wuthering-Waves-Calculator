<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>캐릭터 상세</title>
  <link rel="stylesheet" href="detail.css">
  <script src="data.js"></script>
  <script defer src="detail.js"></script>
</head>
<body>
	<header>
		<h1>명조 육성 계산기(개발 중)</h1>
	</header>
	<div class="container">
		<!-- 좌측 영역 -->
		<div class="left">
			<div class="character-info">
				<div class="character-image"></div>
				<div class="status">
					<div class="level">
						<span class="label">LV.</span>
						<input list="currentlevel" id="currentlevel" name="currentlevel">
						<datalist id="currentlevel">
							<option value="1">
							<option value="20">
							<option value="40">
							<option value="50">
							<option value="60">
							<option value="80">
							<option value="90">
						</datalist>
						<span class="inner-divider"></span>
						<input list="goallevel" id="goallevel" name="goallevel">
						<datalist id="goallevel">
							<option value="1">
							<option value="20">
							<option value="40">
							<option value="50">
							<option value="60">
							<option value="80">
							<option value="90">
						</datalist>
					</div>
					<div class="rank">
						<span class="label">RANK.</span>
						<select>
							<option value="curr rank_1">1</option>
							<option value="curr rank_2">2</option>
							<option value="curr rank_3">3</option>
							<option value="curr rank_4">4</option>
							<option value="curr rank_5">5</option>
							<option value="curr rank_6">6</option>
						</select>
						<span class="inner-divider"></span>
						<select>
							<option value="goal rank_1">1</option>
							<option value="goal rank_2">2</option>
							<option value="goal rank_3">3</option>
							<option value="goal rank_4">4</option>
							<option value="goal rank_5">5</option>
							<option value="goal rank_6">6</option>
						</select>
					</div>
				</div>
			</div>
			<div class="skill-image">스킬 이미지</div>
			<div class="skill-priority">스킬 중요도</div>
		</div>

		<!-- 구분선 -->
		<div class="divider"></div>

		<!-- 우측 영역 -->
		<div class="right">
		  <div class="required-items">필요 아이템</div>
		</div>
	</div>
	<script>
		function bindValidation(inputId, datalistId) {
		  const input = document.getElementById(inputId);
		  const options = document.querySelectorAll(`#${datalistId} option`);

		  if (!input) return; // 안전장치

		  input.addEventListener("change", () => {
			const validValues = Array.from(options).map(opt => opt.value);
			if (!validValues.includes(input.value)) {
			  alert("목록에 있는 값만 입력할 수 있습니다!");
			  input.value = "";
			}
		  });
		}

		// 현재 레벨 입력 검증
		bindValidation("currentlevel", "currentlevel");

		// 목표 레벨 입력 검증
		bindValidation("goallevel", "goallevel");
	</script>
</body>
</html>
